<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Loggers — Logger • yog</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Loggers — Logger" />

<meta property="og:description" content="A Logger records the log message and some metadata (timestamp,
calling function) as a LogEvent and passes this event on to one or
several Appenders that write the event to a destination (a file,
the console, ...). All Loggers of an R session are in a hierarchical
structure, and each Logger (except the Root Looger) passes on LogEvents to
the Appenders of it ancestral Loggers. See vignette(&quot;yog&quot;, package = &quot;yog&quot;)
for more info." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">yog</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.5.9012</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/yog.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/yog-examples.html">Example Configurations for yog</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/s-fleck/yog">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Loggers</h1>
    <small class="dont-index">Source: <a href='https://github.com/s-fleck/yog/blob/master/R/Logger.R'><code>R/Logger.R</code></a></small>
    <div class="hidden name"><code>Logger.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>A Logger records the log message and some metadata (timestamp,
calling function) as a <a href='LogEvent.html'>LogEvent</a> and passes this event on to one or
several <a href='Appender.html'>Appenders</a> that write the event to a destination (a file,
the console, ...). All Loggers of an R session are in a hierarchical
structure, and each Logger (except the Root Looger) passes on LogEvents to
the Appenders of it ancestral Loggers. See <code><a href='../articles/yog.html'>vignette("yog", package = "yog")</a></code>
for more info.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="usage"><a class="anchor" href="#usage"></a>Usage</h2>

    <pre>x &lt;- Logger$new(name, appenders = list(), threshold = 400L, user = get_user(),
  parent = yog::yog, exception_handler = default_exception_handler,
  propagate = TRUE)
    x$log(level, msg, ..., timestamp = Sys.time(), caller = get_caller(-7))
x$fatal(msg, ...)
x$error(msg, ...)
x$warn(msg, ...)
x$info(msg, ...)
x$debug(msg, ...)
x$trace(msg, ...)
x$add_appender(appender, name = NULL)
x$remove_appender(pos)
x$handle_exception(...)
x$set_name(x)
x$set_exception_handler(fun)
x$set_propagate(x)
x$set_parent(logger)
x$set_threshold(level)
x$set_appenders(x)
x$set_user(x)
    x$ancestry
x$appenders
x$exception_handler
x$inherited_appenders
x$last_event
x$name
x$parent
x$propagate
x$threshold
x$user
</pre>
    
    <h2 class="hasAnchor" id="creating-loggers"><a class="anchor" href="#creating-loggers"></a>Creating Loggers</h2>

    
    <p>If you want logging for a Project (f.e a Package you are developing) that is
separate from the global logging, you can create a new logger with
<code>Logger$new()</code>. If you just want to add different outputs (for example
logfiles) to the Root Logger, look into <a href='Appender.html'>Appenders</a>.</p>
    
    <h2 class="hasAnchor" id="fields"><a class="anchor" href="#fields"></a>Fields</h2>

    
    <p>You can either specify the fields in <code>Logger$new()</code> or modify them after
creation with setter functions of the form <code>logger$set_fieldname(value)</code>
(see examples)</p>
<dl class='dl-horizontal'>
<dt><code>name</code></dt><dd><p><code>character</code> scalar. Name of the Logger. Should be unique amongst
Loggers. If you define a logger for an R Package, the logger should have
the same name as the Package.</p></dd>
    <dt><code>appenders</code></dt><dd><p><code>list</code> of <a href='Appender.html'>Appender</a>s. The appenders used by this logger
to write log entries to the console, to files, etc...</p></dd>
    <dt><code>threshold</code></dt><dd><p><code>character</code> or <code>integer</code> scalar. The minimum log level
that triggers this logger</p></dd>
    <dt><code>user</code></dt><dd><p><code>character</code> scalar. The current user name or email adress.
This information can be used by the appenders</p></dd>
    <dt><code>parent</code></dt><dd><p>a <code>Logger</code>. Usually the Root logger. All Loggers must be
descentents of the Root logger for yog to work as intended.</p></dd>
    <dt><code>exception_handler</code></dt><dd><p>a <code>function</code> that takes a single argument <code>e</code>.
The function used to handle errors that occur durring loging. Defaults
to demoting errors to <a href='https://www.rdocumentation.org/packages/base/topics/warnings'>warnings</a></p></dd>
    <dt><code>propagate</code></dt><dd><p><code>TRUE</code> or <code>FALSE</code>. Should log messages be passed on to
the appenders of the ancestral Loggers?</p></dd>
</dl>
    <dl class='dl-horizontal'>
    <dt><code>appenders</code></dt><dd><p>A <code>list</code> of all Appenders attached to the current
logger</p></dd>
    <dt><code>ancestry</code></dt><dd><p>A named <code>logical</code> vector of containing
the propagate value of each Logger upper the inheritance tree. The names
are the names of the appenders.</p></dd>
    <dt><code>inherited_appenders</code></dt><dd><p>A <code>list</code> of all inherited
appenders from ancestral Loggers of the current Logger</p></dd>
    <dt><code>filters</code></dt><dd><p>a <code>list</code> of predicates (functions that return either
<code>TRUE</code> or <code>FALSE</code>). If all of these functions evaluate to <code>TRUE</code> the
LogEvent is passed on to the Logger's Appenders. Since LogEvents have
reference semantics, filters can also be abused to modify LogEvents
before they are passed on. Look at the source code of <code><a href='with_log_level.html'>with_log_level()</a></code>
or <code><a href='with_log_level.html'>with_log_value()</a></code> for examples.</p></dd>
    <dt><code>last_event</code></dt><dd><p>The last LogEvent produced by the current Logger</p></dd>
    <dt><code>name</code></dt><dd><p>Name of the Logger. Mainly used for display purposes. If
you define a Logger for a package, this should be the same name as
the packages</p></dd>
    <dt><code>parent</code></dt><dd><p>Parent Logger of the current Logger (<code>NULL</code> for the Root Logger)</p></dd>
    <dt><code>threshold</code></dt><dd><p>An <code>integer</code>. Threshold of the current Logger (i.e the
maximum log level that this Logger processes)</p></dd>
    <dt><code>user</code></dt><dd><p>The current user</p></dd>
</dl>
    
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
    <dl class='dl-horizontal'>
<dt><code>fatal(msg, ...)</code></dt><dd><p>Logs a message with level <code>fatal</code> on this logger.
If there are <em>unnamed</em> arguments in <code>...</code>, they will be pased to
<code><a href='https://www.rdocumentation.org/packages/base/topics/sprintf'>base::sprintf()</a></code> along with message. Named arguments will be passed
as custom fields to <a href='LogEvent.html'>LogEvent</a>. If there are named arguments the names
must be unique</p></dd>
    <dt><code>error(msg, ...)</code></dt><dd><p>Logs a message with level <code>error</code> on this logger.
The arguments are interpreted as for <code>fatal()</code>.</p></dd>
    <dt><code>warn(msg, ...)</code></dt><dd><p>Logs a message with level <code>warn</code> on this logger.
The arguments are interpreted as for <code>fatal()</code>.</p></dd>
    <dt><code>info(msg, ...)</code></dt><dd><p>Logs a message with level <code>info</code> on this logger.
The arguments are interpreted as for <code>fatal()</code>.</p></dd>
    <dt><code><a href='https://www.rdocumentation.org/packages/base/topics/debug'>debug(msg, ...)</a></code></dt><dd><p>Logs a message with level <code>debug</code> on this logger.
The arguments are interpreted as for <code>fatal()</code>.</p></dd>
    <dt><code><a href='https://www.rdocumentation.org/packages/base/topics/trace'>trace(msg, ...)</a></code></dt><dd><p>Logs a message with level <code>trace</code> on this logger.
The arguments are interpreted as for <code>fatal()</code>.</p></dd>
    <dt><code><a href='https://www.rdocumentation.org/packages/base/topics/Log'>log(level, msg, ..., timestamp, caller)</a></code></dt><dd><p>If the <code>level</code> passes the Logger <code>threshold</code> a new <a href='LogEvent.html'>LogEvent</a>
with <code>level</code>, <code>msg</code>, <code>timestamp</code> and <code>caller</code> is created. Unnamed
arguments in <code>...</code> will be combined with <code>msg</code> via <code><a href='https://www.rdocumentation.org/packages/base/topics/sprintf'>base::sprintf()</a></code>.
Named arguments in <code>...</code> will be passed on to <code>LogEvent$new()</code> as custom
fields.<pre>If the new LogEvent passes this Loggers filters, it will be dispatched
to the relevant [Appenders] and checked against their thresholds and
filters.
</pre></p></dd>
    <dt><code><a href='simple_logging.html'>add_appender(appender, name = NULL)</a></code></dt><dd><p>Adds a new Appender to the
Logger. <code>appender</code> must be an <a href='Appender.html'>Appender</a> object. <code>name</code> is optional and
will be used as name in the list of appenders, i.e if you do
<code>logger$add_appender(AppenderConsole$new(), name = "console")</code> you can
refer to it via <code>logger$appenders$console</code>.</p></dd>
    <dt><code><a href='simple_logging.html'>remove_appender(pos)</a></code></dt><dd><p>Removes and Appender from a Logger. <code>pos</code>
can be an <code>integer</code> or <code>character</code> vector referring either to the positions
or names of the Appenders to be removed.</p></dd>
    <dt><code>exception_handler(e)</code></dt><dd><p>Used to handle errors that occur durring the
logging process. The defaul is to convert errors to warnings.</p></dd>
    <dt><code>set_name(x)</code></dt><dd><p>Set the Logger name to the <code>character</code> scalar <code>x</code></p></dd>
    <dt><code><a href='https://www.rdocumentation.org/packages/stats/topics/filter'>filter(x)</a></code></dt><dd><p>Determine whether the LogEvent <code>x</code> should be passed
on to Appenders (<code>TRUE</code>) or not (<code>FALSE</code>). See also the active binding
<code>filters</code></p></dd>
    <dt><code>set_filters(filters)</code></dt><dd><p>set a list of <code>filters</code>. The filters must
be functions that take exactly two named arguments: the LogEvent
<code>event</code> and the Logger <code>obj</code>.</p></dd>
</dl>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>yog</span>$<span class='fu'>info</span>(<span class='st'>"Today is %s"</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Sys.time'>Sys.Date</a></span>() )</div><div class='output co'>#&gt; INFO  [10:13:26.220] Today is 2018-12-23</div><div class='input'>
<span class='co'># yog includes a pre-configured root logger</span>
<span class='no'>yog</span>$<span class='fu'>fatal</span>(<span class='st'>"This is a serious error"</span>)</div><div class='output co'>#&gt; <span style='color: #D75F5F;font-weight: bold;'>FATAL</span><span> [10:13:26.226] This is a serious error</div><div class='input'>
<span class='co'># if you want to take advantage of hierarchical logging, you can create new loggers.</span>
<span class='co'>#' # the following creates a new logger that logs to a temporary file.</span>
<span class='no'>tf</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempfile</a></span>()
<span class='no'>mylogger</span> <span class='kw'>&lt;-</span> <span class='no'>Logger</span>$<span class='fu'>new</span>(
  <span class='st'>"mylogger"</span>,
  <span class='kw'>appenders</span> <span class='kw'>=</span> <span class='no'>AppenderFile</span>$<span class='fu'>new</span>(<span class='no'>tf</span>)
)

<span class='co'># The new logger passes the log message on to the appenders of its parent</span>
<span class='co'># logger, which is by default the root logger. This is why the following</span>
<span class='co'># writes not only the file 'tf', but also to the console.</span>
<span class='no'>mylogger</span>$<span class='fu'>fatal</span>(<span class='st'>"blubb"</span>)</div><div class='output co'>#&gt; </span><span style='color: #D75F5F;font-weight: bold;'>FATAL</span><span> [10:13:26.248] blubb</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/readLines'>readLines</a></span>(<span class='no'>tf</span>)</div><div class='output co'>#&gt; [1] "FATAL [2018-12-23 10:13:26.248] blubb"</div><div class='input'>
<span class='co'># use string inerpolation and custom fields</span>
<span class='no'>tf2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempfile</a></span>()
<span class='no'>mylogger</span>$<span class='fu'><a href='simple_logging.html'>add_appender</a></span>(<span class='no'>AppenderFile</span>$<span class='fu'>new</span>(<span class='no'>tf2</span>, <span class='kw'>layout</span> <span class='kw'>=</span> <span class='no'>LayoutJson</span>$<span class='fu'>new</span>()))
<span class='no'>mylogger</span>$<span class='fu'>info</span>(<span class='st'>"Not all %s support custom fields"</span>, <span class='st'>"appenders"</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"test"</span>)</div><div class='output co'>#&gt; INFO  [10:13:26.264] Not all appenders support custom fields</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/readLines'>readLines</a></span>(<span class='no'>tf</span>)</div><div class='output co'>#&gt; [1] "FATAL [2018-12-23 10:13:26.248] blubb"                                  
#&gt; [2] "INFO  [2018-12-23 10:13:26.264] Not all appenders support custom fields"</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/readLines'>readLines</a></span>(<span class='no'>tf2</span>)</div><div class='output co'>#&gt; [1] "{\"level\":400,\"timestamp\":\"2018-12-23 10:13:26\",\"caller\":\"eval\",\"msg\":\"Not all appenders support custom fields\",\"type\":\"test\"}"</div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#usage">Usage</a></li>

      <li><a href="#creating-loggers">Creating Loggers</a></li>

      <li><a href="#fields">Fields</a></li>

      <li><a href="#methods">Methods</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Stefan Fleck.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

